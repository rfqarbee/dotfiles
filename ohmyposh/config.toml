version = 3
enable_cursor_positioning = true
final_space = true

[upgrade]
notice = true
interval = "168h"
auto = false
source = "cdn"

[secondary_prompt]
  template = '> '
  foreground = 'grey'

[transient_prompt]
  template = 'âœ '
  foreground = 'green'
  foreground_templates = ['{{if gt .Code 0}}red{{end}}', '{{ if eq .Code 0 }}green{{end}}']

[[blocks]]
  type = 'prompt'
  alignment = 'left'
  overflow = 'break'
  newline = true

  [[blocks.segments]]
    template = '{{ if .Segments.Git.RepoName}}{{ if eq .Segments.Git.Dir .PWD }} {{.Segments.Git.RepoName}}{{else}} {{.Path}} {{end}} {{else}} {{if not .Writable}}ğŸ”’ {{end}}{{.Path}} {{end}}'
    foreground = '#51afef'
    type = 'path'
    style = 'plain'

    [blocks.segments.properties]
      cache_duration = 'none'
      max_depth = 2
      style = 'agnoster_full'

  [[blocks.segments]]
    template = '{{.HEAD}} {{ if and (gt .Ahead 0) (eq .Behind 0) }} <orange>â‡¡{{.Ahead}}</>{{ end }}{{ if and (eq .Ahead 0) (gt .Behind 0) }} <red>â‡£{{.Behind}}</>{{ end }}{{ if and (gt .Ahead 0) (gt .Behind 0) }} <green>ï‘¿ </><#f5a97f>â‡¡{{.Ahead}}</><red>â‡£{{.Behind}}</>{{ end }}{{ if .Staging.Changed }}{{if gt .Staging.Added 0 }} <yellow>+{{.Staging.Added}}</>{{else if gt .Staging.Modified 0}} <yellow>+{{.Staging.Modified}}</>{{else}} <yellow>{{.Staging.String}}</>{{ end }}{{ end }}{{ if .Working.Changed }} <green>{{.Working.String}}</>{{ end }}{{ if gt .StashCount 0 }} <cyan>${{ .StashCount}}</>{{ end }}'
    foreground = '#a9a1e1'
    type = 'git'

    [blocks.segments.properties]
      branch_icon = '<green>î‚ </> '
      cherry_pick_icon = 'îŠ› '
      commit_icon = 'ï— '
      fetch_status = true
      fetch_push_status = true
      fetch_upstream_icon = false
      merge_icon = 'îœ§ '
      no_commits_icon = 'ï–” '
      rebase_icon = 'îœ¨ '
      revert_icon = 'ïƒ¢ '
      source = 'cli'
      tag_icon = 'ï’ '

      [blocks.segments.properties.staging]
        [blocks.segments.properties.staging.modified]
          foreground = 'green'

[[blocks]]
  type = 'prompt'
  alignment = 'left'
  newline = true

  [[blocks.segments]]
    template = '{{ if .Code }}âœ—{{ else }}âœ{{end}}'
    type = 'text'
    style = 'plain'
    foreground_templates = ['{{if gt .Code 0}}red{{end}}', '{{ if eq .Code 0}}green{{end}}']

    [blocks.segments.properties]
      cache_duration = 'none'

[[blocks]]
  type = 'rprompt'

  [[blocks.segments]]
    template = ' â˜¸ {{.Context}}{{if .Namespace}} :: {{.Namespace}}{{end}} '
    foreground = '#ebcc35'
    type = 'kubectl'

    [blocks.segments.properties]
      cache_duration = 'none'

  [[blocks.segments]]
    template = ' ïŒˆ {{ .Context }} '
    foreground = '#0B59E7'
    type = 'docker'

    [blocks.segments.properties]
      cache_duration = 'none'
